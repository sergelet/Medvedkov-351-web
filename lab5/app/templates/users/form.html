{% macro form_user(user, roles)%}
<form method="POST">
  {% if request.endpoint == 'create'%}
  <div class="mb-3">
    <label for="login" class="form-label">Логин</label>
    <input
      name="login"
      type="login"
      class="form-control"
      id="login"
      aria-describedby="loginHelp"
      value="{{user.login or ''}}" 
    />
  </div>
  <div class="mb-3">
    <label for="password1" class="form-label">Пароль</label>
    <input
      name="oldpassword"
      type="password"
      class="form-control"
      aria-describedby="pHelp"
      id="oldpassword"
      value="{{user.password or ''}}"
      required      
    />
  </div>
  {% endif %}
  <div class="mb-3">
    <label for="last_name" class="form-label">Фамилия</label>
    <input
      name="last_name"
      type="login"
      class="form-control"
      id="last_name"
      aria-describedby="lnHelp"
      value="{{user.last_name or ''}}"
      required    
    />
  </div>
  <div class="mb-3">
    <label for="first_name" class="form-label">Имя</label>
    <input
      name="first_name"
      type="login"
      class="form-control"
      id="first_name"
      aria-describedby="fnHelp"
      value="{{user.first_name or ''}}  " 
      required      
    />
  </div>
  <div class="mb-3">
    <label for="middle_name" class="form-label">Отчество</label>
    <input
      name="middle_name"
      type="login"
      class="form-control"
      id="middle_name"
      aria-describedby="loginHelp"
      value="{{user.middle_name or ''}}"
    />
  </div>
  {% if current_user.is_admin() %}
  <div class="mb-3">
    <label for="selroles" class="form-label">Роль</label>
    <select class="form-select" aria-label="Default select example" id="selroles" name="role_id">
      <option selected>Не выбрано</option>
      {% for role in roles %}
        <option value="{{role.id}}">{{role.name}}</option>
      {% endfor %}
    </select>
  </div>
  {% endif %}
  <button type="submit" class="btn btn-primary">Сохранить</button>
</form>
{% endmacro %}
